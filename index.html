<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>UltraDownloader AI</title>
</head>
<body class="bg-slate-900 text-white min-h-screen">
    <nav class="p-6 border-b border-slate-800 text-center md:text-left">
        <h1 class="text-2xl font-bold text-blue-400">UltraDownloader AI</h1>
    </nav>

    <main class="max-w-4xl mx-auto mt-20 px-6">
        <div class="text-center mb-12">
            <h2 class="text-5xl font-extrabold mb-4">8K Video Downloader</h2>
            <p class="text-slate-400">Enter a URL to generate direct download links instantly.</p>
        </div>

        <div class="bg-slate-800 p-2 rounded-2xl flex flex-col md:flex-row gap-2 shadow-2xl">
            <input type="text" id="urlInput" placeholder="Paste YouTube, IG, or FB link..." 
                   class="flex-1 bg-transparent p-4 outline-none text-lg">
            <button onclick="startDownload()" id="mainBtn" class="bg-blue-600 px-10 py-4 rounded-xl font-bold hover:bg-blue-500 transition">GET VIDEO</button>
        </div>

        <div id="resultFrame" class="mt-10 hidden bg-slate-800 p-6 rounded-3xl border border-blue-500/30">
            <img id="thumb" src="" class="rounded-xl w-full mb-4 max-h-80 object-cover">
            <h3 id="title" class="text-xl font-bold mb-6 text-center">Video Title</h3>
            <a id="dlButton" href="#" target="_blank" class="block w-full py-5 bg-emerald-500 rounded-2xl text-slate-900 font-black text-center text-xl">DOWNLOAD NOW (8K)</a>
        </div>
    </main>

    <script>
        async function startDownload() {
            const url = document.getElementById('urlInput').value;
            const btn = document.getElementById('mainBtn');
            if(!url) return alert("Bro, paste a link!");

            btn.innerText = "PROCESSING...";
            btn.disabled = true;

            try {
                // !!! REPLACE THIS WITH YOUR ACTUAL RENDER LINK !!!
                const renderUrl = 'https://ultra-downloader-api.onrender.com/get_video';

                const response = await fetch(renderUrl, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ url: url })
                });
                const data = await response.json();
                
                if(data.url) {
                    document.getElementById('thumb').src = data.thumbnail;
                    document.getElementById('title').innerText = data.title;
                    document.getElementById('dlButton').href = data.url;
                    document.getElementById('resultFrame').classList.remove('hidden');
                } else {
                    alert("Error: " + data.error);
                }
            } catch (e) {
                alert("Server is still waking up. Try again in 30 seconds!");
            }
            btn.innerText = "GET VIDEO";
            btn.disabled = false;
        }
    </script>
</body>
</html>
